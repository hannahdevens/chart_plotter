<h1>Upload CSV File</h1>

<%= form_tag({ action: 'upload' }, multipart: true) do %>
  <%= file_field_tag :csv_file %>
  <%= submit_tag 'Upload' %>
<% end %>

<%= form_tag({ action: 'generate_chart', method: 'post' }) do %>
    <h2>Select Chart Types</h2>
    <label>
      <%= check_box_tag 'chart_types[]', 'line_plot', @selected_chart_types.include?('line_plot') %>
      Line Plot
    </label>
    <br>
    <label>
      <%= check_box_tag 'chart_types[]', 'bar_plot', @selected_chart_types.include?('bar_plot') %>
      Bar Plot
    </label>
    <br>
    <label>
      <%= check_box_tag 'chart_types[]', 'dot_plot', @selected_chart_types.include?('dot_plot') %>
      Dot Plot
    </label>
    <br>
    <%= submit_tag 'Generate' %>
  <% end %>

  <% if @selected_chart_types.present? %>
    <h2>Charts</h2>

    <% if @selected_chart_types.include?('line_plot') %>
      <%= line_chart '/line_plot.png' %>
    <% end %>

    <% if @selected_chart_types.include?('bar_plot') %>
      <%= bar_chart '/bar_plot.png' %>
    <% end %>
<% end %>

